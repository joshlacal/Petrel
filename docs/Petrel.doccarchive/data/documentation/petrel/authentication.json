{"sections":[],"hierarchy":{"paths":[["doc:\/\/Petrel\/documentation\/Petrel"]]},"metadata":{"roleHeading":"Article","title":"Authentication","modules":[{"name":"Petrel"}],"role":"article"},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Petrel\/documentation\/Petrel\/Authentication"},"abstract":[{"type":"text","text":"Learn how to authenticate with the AT Protocol using OAuth or legacy authentication methods."}],"schemaVersion":{"major":0,"patch":0,"minor":3},"kind":"article","seeAlsoSections":[{"title":"Getting Started","identifiers":["doc:\/\/Petrel\/documentation\/Petrel\/GettingStarted"],"generated":true,"anchor":"Getting-Started"}],"primaryContentSections":[{"kind":"content","content":[{"anchor":"OAuth-Authentication-Recommended","type":"heading","level":2,"text":"OAuth Authentication (Recommended)"},{"type":"paragraph","inlineContent":[{"text":"OAuth is the preferred authentication method for production applications:","type":"text"}]},{"type":"codeListing","syntax":"swift","code":["let authService = AuthenticationService()","","\/\/ Start OAuth flow","let authURL = try await authService.startOAuthAuthentication(","    identifier: \"alice.bsky.social\"",")","","\/\/ Open authURL in browser\/web view","\/\/ Handle the callback URL after user authorizes","","\/\/ Complete authentication","let account = try await authService.handleOAuthCallback(","    callbackURL: callbackURL",")","","\/\/ Create authenticated client","let client = ATProtoClient(authenticationService: authService)"]},{"anchor":"Legacy-Authentication","type":"heading","level":2,"text":"Legacy Authentication"},{"type":"paragraph","inlineContent":[{"type":"text","text":"For development or testing purposes, you can use password-based authentication:"}]},{"type":"codeListing","syntax":"swift","code":["let authService = AuthenticationService()","","let account = try await authService.authenticateWithPassword(","    identifier: \"alice.bsky.social\",","    password: \"your-app-password\"",")","","let client = ATProtoClient(authenticationService: authService)"]},{"name":"Important","type":"aside","content":[{"inlineContent":[{"type":"text","text":"Always use app passwords, not your main account password."}],"type":"paragraph"}],"style":"important"},{"anchor":"Token-Management","type":"heading","level":2,"text":"Token Management"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Petrel automatically handles token refresh using the "},{"type":"codeVoice","code":"TokenRefreshCoordinator"},{"type":"text","text":". Tokens are securely stored in the keychain and refreshed as needed."}]},{"anchor":"Next-Steps","type":"heading","level":2,"text":"Next Steps"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Explore "},{"type":"text","text":"doc:BasicUsage"},{"type":"text","text":" to start making API calls"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Learn about "},{"type":"text","text":"doc:TokenManagement"},{"type":"text","text":" for advanced authentication scenarios"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Review ","type":"text"},{"text":"doc:OAuthFlow","type":"text"},{"text":" for detailed OAuth implementation","type":"text"}]}]}]}]}],"variants":[{"paths":["\/documentation\/petrel\/authentication"],"traits":[{"interfaceLanguage":"swift"}]}],"references":{"doc://Petrel/documentation/Petrel":{"kind":"symbol","title":"Petrel","abstract":[{"type":"text","text":"A comprehensive Swift library for the AT Protocol and Bluesky social network."}],"role":"collection","identifier":"doc:\/\/Petrel\/documentation\/Petrel","type":"topic","url":"\/documentation\/petrel"},"doc://Petrel/documentation/Petrel/GettingStarted":{"kind":"article","identifier":"doc:\/\/Petrel\/documentation\/Petrel\/GettingStarted","type":"topic","title":"Getting Started","role":"article","url":"\/documentation\/petrel\/gettingstarted","abstract":[{"text":"Learn how to integrate Petrel into your Swift project and make your first API calls.","type":"text"}]}}}