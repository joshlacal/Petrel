{"abstract":[{"type":"text","text":"Learn how to authenticate with the AT Protocol using OAuth or legacy authentication methods."}],"seeAlsoSections":[{"title":"Getting Started","anchor":"Getting-Started","identifiers":["doc:\/\/Petrel\/documentation\/Petrel\/GettingStarted"],"generated":true}],"schemaVersion":{"patch":0,"minor":3,"major":0},"variants":[{"paths":["\/documentation\/petrel\/authentication"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"role":"article","modules":[{"name":"Petrel"}],"title":"Authentication","roleHeading":"Article"},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"type":"heading","text":"OAuth Authentication (Recommended)","anchor":"OAuth-Authentication-Recommended","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"OAuth is the preferred authentication method for production applications:"}]},{"syntax":"swift","type":"codeListing","code":["let authService = AuthenticationService()","","\/\/ Start OAuth flow","let authURL = try await authService.startOAuthAuthentication(","    identifier: \"alice.bsky.social\"",")","","\/\/ Open authURL in browser\/web view","\/\/ Handle the callback URL after user authorizes","","\/\/ Complete authentication","let account = try await authService.handleOAuthCallback(","    callbackURL: callbackURL",")","","\/\/ Create authenticated client","let client = ATProtoClient(authenticationService: authService)"]},{"type":"heading","text":"Legacy Authentication","anchor":"Legacy-Authentication","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"For development or testing purposes, you can use password-based authentication:"}]},{"syntax":"swift","type":"codeListing","code":["let authService = AuthenticationService()","","let account = try await authService.authenticateWithPassword(","    identifier: \"alice.bsky.social\",","    password: \"your-app-password\"",")","","let client = ATProtoClient(authenticationService: authService)"]},{"type":"aside","content":[{"inlineContent":[{"type":"text","text":"Always use app passwords, not your main account password."}],"type":"paragraph"}],"name":"Important","style":"important"},{"type":"heading","text":"Token Management","anchor":"Token-Management","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"Petrel automatically handles token refresh using the "},{"type":"codeVoice","code":"TokenRefreshCoordinator"},{"type":"text","text":". Tokens are securely stored in the keychain and refreshed as needed."}]},{"type":"heading","text":"Next Steps","anchor":"Next-Steps","level":2},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Explore "},{"type":"text","text":"doc:BasicUsage"},{"type":"text","text":" to start making API calls"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Learn about ","type":"text"},{"text":"doc:TokenManagement","type":"text"},{"text":" for advanced authentication scenarios","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Review "},{"type":"text","text":"doc:OAuthFlow"},{"type":"text","text":" for detailed OAuth implementation"}],"type":"paragraph"}]}]}]}],"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Petrel\/documentation\/Petrel\/Authentication"},"kind":"article","hierarchy":{"paths":[["doc:\/\/Petrel\/documentation\/Petrel"]]},"references":{"doc://Petrel/documentation/Petrel":{"title":"Petrel","url":"\/documentation\/petrel","identifier":"doc:\/\/Petrel\/documentation\/Petrel","abstract":[{"text":"A comprehensive Swift library for the AT Protocol and Bluesky social network.","type":"text"}],"kind":"symbol","role":"collection","type":"topic"},"doc://Petrel/documentation/Petrel/GettingStarted":{"type":"topic","kind":"article","title":"Getting Started","role":"article","url":"\/documentation\/petrel\/gettingstarted","abstract":[{"type":"text","text":"Learn how to integrate Petrel into your Swift project and make your first API calls."}],"identifier":"doc:\/\/Petrel\/documentation\/Petrel\/GettingStarted"}}}