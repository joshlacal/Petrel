{"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Petrel\/documentation\/Petrel\/Authentication"},"schemaVersion":{"major":0,"patch":0,"minor":3},"sections":[],"abstract":[{"type":"text","text":"Learn how to authenticate with the AT Protocol using OAuth or legacy authentication methods."}],"primaryContentSections":[{"content":[{"level":2,"text":"OAuth Authentication (Recommended)","anchor":"OAuth-Authentication-Recommended","type":"heading"},{"inlineContent":[{"type":"text","text":"OAuth is the preferred authentication method for production applications:"}],"type":"paragraph"},{"code":["let authService = AuthenticationService()","","\/\/ Start OAuth flow","let authURL = try await authService.startOAuthAuthentication(","    identifier: \"alice.bsky.social\"",")","","\/\/ Open authURL in browser\/web view","\/\/ Handle the callback URL after user authorizes","","\/\/ Complete authentication","let account = try await authService.handleOAuthCallback(","    callbackURL: callbackURL",")","","\/\/ Create authenticated client","let client = ATProtoClient(authenticationService: authService)"],"type":"codeListing","syntax":"swift"},{"level":2,"text":"Legacy Authentication","anchor":"Legacy-Authentication","type":"heading"},{"inlineContent":[{"type":"text","text":"For development or testing purposes, you can use password-based authentication:"}],"type":"paragraph"},{"code":["let authService = AuthenticationService()","","let account = try await authService.authenticateWithPassword(","    identifier: \"alice.bsky.social\",","    password: \"your-app-password\"",")","","let client = ATProtoClient(authenticationService: authService)"],"type":"codeListing","syntax":"swift"},{"style":"important","name":"Important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Always use app passwords, not your main account password."}]}],"type":"aside"},{"level":2,"text":"Token Management","anchor":"Token-Management","type":"heading"},{"inlineContent":[{"type":"text","text":"Petrel automatically handles token refresh using the "},{"code":"TokenRefreshCoordinator","type":"codeVoice"},{"type":"text","text":". Tokens are securely stored in the keychain and refreshed as needed."}],"type":"paragraph"},{"level":2,"text":"Next Steps","anchor":"Next-Steps","type":"heading"},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Explore ","type":"text"},{"text":"doc:BasicUsage","type":"text"},{"text":" to start making API calls","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Learn about ","type":"text"},{"text":"doc:TokenManagement","type":"text"},{"text":" for advanced authentication scenarios","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Review "},{"type":"text","text":"doc:OAuthFlow"},{"type":"text","text":" for detailed OAuth implementation"}],"type":"paragraph"}]}],"type":"unorderedList"}],"kind":"content"}],"kind":"article","metadata":{"roleHeading":"Article","role":"article","title":"Authentication","modules":[{"name":"Petrel"}]},"hierarchy":{"paths":[["doc:\/\/Petrel\/documentation\/Petrel"]]},"seeAlsoSections":[{"anchor":"Getting-Started","identifiers":["doc:\/\/Petrel\/documentation\/Petrel\/GettingStarted"],"title":"Getting Started","generated":true}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/petrel\/authentication"]}],"references":{"doc://Petrel/documentation/Petrel":{"role":"collection","abstract":[{"text":"A comprehensive Swift library for the AT Protocol and Bluesky social network.","type":"text"}],"kind":"symbol","title":"Petrel","type":"topic","identifier":"doc:\/\/Petrel\/documentation\/Petrel","url":"\/documentation\/petrel"},"doc://Petrel/documentation/Petrel/GettingStarted":{"url":"\/documentation\/petrel\/gettingstarted","abstract":[{"type":"text","text":"Learn how to integrate Petrel into your Swift project and make your first API calls."}],"title":"Getting Started","identifier":"doc:\/\/Petrel\/documentation\/Petrel\/GettingStarted","role":"article","kind":"article","type":"topic"}}}